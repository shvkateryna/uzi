# Підпис і перевірка зображень через стеганографію та цифровий підпис

Цей проєкт дозволяє:
- Створювати цифровий підпис зображення на основі його хешу,
- Вбудовувати підпис у зображення методом стеганографії через найменш значущі біти (LSB),
- Перевіряти справжність підписаного зображення за допомогою публічного ключа.

---

## Вимоги

- Python 3.8+
- Бібліотеки: cryptography, Pillow
- Наявність: приватного ключа (`private_key.pem`), публічного ключа (`public_key.pem`)
- Вхідне зображення у форматі PNG (`image/secret.png`)

## Як працює

### 1. Підпис зображення (`sign_image.py`)
- Обчислюється SHA-256 хеш зображення.
- Хеш підписується приватним ключем (RSA-PSS).
- Хеш + підпис вбудовуються в найменш значущі біти червоного каналу пікселів.

### 2. Перевірка підпису (`verify_image_signature.py`)
- Витягуються вбудовані дані із зображення.
- Публічним ключем перевіряється справжність підпису.

## Запуск

### Підписати зображення:

```bash
cd uzi_hw
python sign_image.py
```

### Перевірити підпис зображення:

```bash
cd uzi_hw
python verify_image_signature.py
```
## Основні функції

| Функція у `sign_image.py`     | Опис |
|-------------------------------|------|
| `load_private_key()`          | Завантаження приватного ключа |
| `save_original_image_data()`  | Збереження даних зображення |
| `embed_signature_into_image()`| Вбудовування підпису в зображення |
| `sign_image()`                | Підписування зображення |

| Функція у `verify_image_signature.py` | Опис |
|----------------------------------------|------|
| `load_public_key()`                    | Завантаження публічного ключа |
| `extract_signature_and_hash()`         | Витягування підпису і хешу із зображення |
| `verify_image_signature()`             | Перевірка підпису |


## Обмеження

- Підписане зображення має бути у форматі PNG без додаткового стиснення.
- Занадто маленьке зображення може не вмістити всі дані.
- Стиснення або редагування зображення після підпису зіпсує вбудовані дані.


